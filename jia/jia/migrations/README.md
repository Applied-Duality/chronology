# Migrations
The contents of this folder are mostly automatically generated by
[Flask-Migrate](http://flask-migrate.readthedocs.org/en/latest/).

## Creating a new migration
If a data model is altered, the database schema must be migrated
to reflect that change.

```
./manage.py --config settings.py db migrate
```

This autogenerates a migration script in `migrations/revisions`.
Review the generated script for correctness and modify the docstring
with a short message describing the change to the model. Then apply
the migration with
```

./manage.py --config settings.py db upgrade
```

Be sure to check the autogenerated script into version control so
that others can apply the migration by simply running the upgrade
command.

## Migrating an old database
If using an existing database from before the migration system was
introduced (pre-October 2014), it must be stamped with revision
`69423a89666` to indicate that its schema matches that of the initial
migration.

```
./manage.py --config settings.py db stamp 69423a89666
```
